
# Алгоритм работы системы нечеткой логики для управления климатом

## Введение

Целью данной работы было создание системы нечеткой логики, способной оценивать и управлять климатическими условиями, такими как температура и влажность, с использованием нечетких переменных и правил. Методология нечеткой логики позволяет эффективно обрабатывать неопределенности в данных, что особенно актуально в климатических системах, где условия могут быть весьма различны и варьироваться с течением времени.

## Общая схема алгоритма

Алгоритм системы нечеткой логики для управления климатом состоит из нескольких основных этапов:

1. **Сбор данных**: Считывание текущих значений температуры и влажности.
2. **Неопределенность**: Определение нечетких переменных, которые будут использоваться в правилах.
3. **Создание нечетких множеств**: Определение нечетких множеств для каждого параметра, таких как "низкая", "средняя" и "высокая" температура и влажность.
4. **Формирование правил**: Создание правил нечеткой логики, которые описывают, как система должна реагировать на различные комбинации значений.
5. **Неопределенное заключение**: Вычисление степени истинности для каждого правила на основе текущих входных данных.
6. **Агрегация выходов**: Объединение результатов всех правил для генерации общего вывода.
7. **Дефазификация**: Преобразование нечеткого результата в четкое значение, используя методы, такие как метод максимума или центроида.

## Пример работы алгоритма

Рассмотрим конкретный пример работы алгоритма:

### Шаг 1: Сбор данных
Получаем данные о текущей температуре и влажности. Пусть текущая температура составляет 25°C, а влажность 70%.

### Шаг 2: Определение нечетких переменных
Для температуры можно задать следующие нечеткие множества:
- Низкая (Low)
- Средняя (Medium)
- Высокая (High)

Для влажности можно задать:
- Низкая (Low)
- Средняя (Medium)
- Высокая (High)

### Шаг 3: Создание нечетких множеств
Например, для температурной переменной можно использовать следующие функции принадлежности:
- Для "Низкой" температуры: 
\[
\mu_{\text{Low}}(x) = 
\begin{cases} 
1 & \text{если } x \leq 15 \\
\frac{20 - x}{5} & \text{если } 15 < x < 20 \\
0 & \text{если } x \geq 20 
\end{cases}
\]
- Для "Средней" температуры:
\[
\mu_{\text{Medium}}(x) =
\begin{cases}
0 & \text{если } x \leq 20 \\
\frac{x - 20}{5} & \text{если } 20 < x < 25 \\
\frac{30 - x}{5} & \text{если } 25 \leq x < 30 \\
0 & \text{если } x \geq 30
\end{cases}
\]
- Для "Высокой" температуры:
\[
\mu_{\text{High}}(x) =
\begin{cases}
0 & \text{если } x \leq 25 \\
\frac{x - 25}{5} & \text{если } 25 < x < 30 \\
1 & \text{если } x \geq 30
\end{cases}
\]

Аналогично определяются функции принадлежности для влажности.

### Шаг 4: Формирование правил
Правила формируются на основе значений переменных. Например:
1. Если температура "Высокая" и влажность "Средняя", то "Увеличить охлаждение".
2. Если температура "Низкая" и влажность "Высокая", то "Увеличить обогрев".

### Шаг 5: Неопределенное заключение
Для текущей температуры (25°C) и влажности (70%) рассчитываем степень истинности:
- Для температуры: 
  - \(\mu_{\text{High}}(25) = 0\)
  - \(\mu_{\text{Medium}}(25) = 1\)
  - \(\mu_{\text{Low}}(25) = 0\)

- Для влажности, предположим, что 70% соответствует "Высокой": 
  - \(\mu_{\text{High}}(70) = 1\)
  - \(\mu_{\text{Medium}}(70) = 0\)
  - \(\mu_{\text{Low}}(70) = 0\)

Степень истинности правил будет 1 для правила "Если температура высокая и влажность средняя".

### Шаг 6: Агрегация выходов
На этом этапе агрегация выходов происходит путём нахождения максимального значения принадлежности для каждого действия, основанного на степенях истинности.

### Шаг 7: Дефазификация
Для получения четкого результата используем метод максимума или центроида. Находим четкое значение нужного действия, например, "Увеличить охлаждение".

## Инструменты и библиотеки

Для реализации проекта были использованы следующие библиотеки:
- **NumPy**: для работы с массивами и числовыми операциями.
- **Matplotlib**: для визуализации данных и построения графиков.
- **Scipy**: для выполнения численных интеграций при расчете центроида.

Были созданы несколько основных классов, которые формируют архитектуру системы:

1. **InterpolationFunction**: для интерполяции значений на основе заданных координат.
2. **FuzzyVariable**: для создания нечетких переменных.
3. **FuzzySet**: для определения нечетких множеств.
4. **FuzzyRule**: для формирования правил нечеткой логики.

## Архитектура системы

### Структуры данных

Для реализации алгоритма используются следующие структуры данных:

1. **Структуры для нечетких переменных**: 
    ```python
    class FuzzyVariable:
        def __init__(self, name, terms):
            self.name = name  # Имя переменной (температура, влажность)
            self.terms = terms  # Словарь с нечеткими терминами и их функциями принадлежности
    ```

2. **Структура для правил нечеткой логики**:
    ```python
    class FuzzyRule:
        def __init__(self, conditions, output):
            self.conditions = conditions  # Условия, например, {температура: "Высокая", влажность: "Средняя"}
            self.output = output  # Действие, которое следует предпринять, например, "Увеличить охлаждение"
    ```

3. **Структура для системы**:
    ```python
    class FuzzySystem:
        def __init__(self):
            self.variables = []  # Список нечетких переменных
            self.rules = []  # Список правил
    ```

## Заключение

Система нечеткой логики эффективна для управления климатическими условиями за счет гибкости в обработке нечетких данных и возможности принимать решения на основе набора правил. Описанный алгоритм и структуры данных представляют собой основу для разработки и реализации таких систем.

Будущие работы могут быть направлены на расширение системы дополнительными переменными и правилами для более сложных сценариев.

